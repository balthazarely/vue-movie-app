{"version":3,"sources":["webpack:///./src/views/About.vue?fbc7","webpack:///./src/views/About.vue?5ee9","webpack:///src/views/About.vue","webpack:///./src/views/About.vue?4206","webpack:///./src/views/About.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","filterBy","multiple","attrs","_l","topMovieData","movie","key","id","params","movie_id","poster_path","staticStyle","_s","title","trimeDate","release_date","previousDisabled","previousPage","nextDisabled","nextPage","staticRenderFns","data","apiKey","currentPage","totalPages","mounted","fetchMovies","methods","addMovieToFavorites","console","log","newId","date","slice","math","computed","watch","oldVal","component"],"mappings":"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","file":"js/about.fc48586e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=d0f2dd72&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&id=d0f2dd72&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"hero main-container\"},[_c('div',{staticClass:\"movie-theatre-wrapper\"},[_c('p',{staticClass:\"title is-4 is-size-5-mobile has-text-white has-text-weight-bold\"},[_vm._v(\" Check out recent popular movies! \")]),_c('div',{staticClass:\"field\"},[_c('label',{staticClass:\"label has-text-white\"},[_vm._v(\"Trending Timeframe\")]),_c('div',{staticClass:\"control\"},[_c('div',{staticClass:\"select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterBy),expression:\"filterBy\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.filterBy=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',[_vm._v(\"day\")]),_c('option',[_vm._v(\"week\")])])])])])]),_c('div',{staticClass:\"container\",attrs:{\"else\":\"\"}},[_c('div',{staticClass:\"notification is-white\"},[_c('div',{staticClass:\"columns\"},[_c('div',{staticClass:\"columns is-mobile is-multiline is-variable is-3\"},_vm._l((_vm.topMovieData.results),function(movie){return _c('div',{key:movie.id,staticClass:\"column  is-one-fifth-widescreen is-one-third-mobile is-one-fifth-desktop is-one-quarter-tablet  movie-card\"},[_c('router-link',{attrs:{\"to\":{\n                name: 'Movie',\n                params: { movie_id: movie.id },\n              }}},[_c('figure',{staticClass:\"image movie-image is-2-by-3\"},[_c('img',{staticClass:\"movie-cover\",attrs:{\"src\":'https://image.tmdb.org/t/p/w200/' + movie.poster_path}})])]),_c('div',{staticClass:\"title is-6 is-size-4-mobile movie-title\"},[_c('router-link',{attrs:{\"to\":{\n                  name: 'Movie',\n                  params: { movie_id: movie.id },\n                }}},[_c('p',{staticClass:\"title is-6 is-size-6-mobile\",staticStyle:{\"text-decoration\":\"none\"}},[_vm._v(\" \"+_vm._s(movie.title)+\" \")])])],1),_c('div',{staticClass:\"subtitle is-6 movie-subtitle\"},[_vm._v(\" \"+_vm._s(_vm.trimeDate(movie.release_date))+\" \")])],1)}),0)]),_c('nav',{staticClass:\"pagination\",attrs:{\"role\":\"navigation\",\"aria-label\":\"pagination\"}},[_c('a',{staticClass:\"pagination-previous\",attrs:{\"title\":\"This is the first page\",\"disabled\":_vm.previousDisabled},on:{\"click\":_vm.previousPage}},[_vm._v(\"Previous\")]),_c('a',{staticClass:\"pagination-next\",attrs:{\"disabled\":_vm.nextDisabled},on:{\"click\":_vm.nextPage}},[_vm._v(\"Next page\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"hero main-container\">\n    <div class=\"movie-theatre-wrapper\">\n      <p\n        class=\"title is-4 is-size-5-mobile has-text-white has-text-weight-bold\"\n      >\n        Check out recent popular movies!\n      </p>\n      <div class=\"field\">\n        <label class=\"label has-text-white\">Trending Timeframe</label>\n        <div class=\"control\">\n          <div class=\"select\">\n            <select v-model=\"filterBy\">\n              <option>day</option>\n              <option>week</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"container\" else>\n      <div class=\"notification is-white\">\n        <div class=\"columns\">\n          <div class=\"columns is-mobile is-multiline is-variable is-3\">\n            <div\n              class=\"column  is-one-fifth-widescreen is-one-third-mobile is-one-fifth-desktop is-one-quarter-tablet  movie-card\"\n              v-for=\"movie in topMovieData.results\"\n              :key=\"movie.id\"\n            >\n              <router-link\n                :to=\"{\n                  name: 'Movie',\n                  params: { movie_id: movie.id },\n                }\"\n              >\n                <figure class=\"image movie-image is-2-by-3\">\n                  <img\n                    class=\"movie-cover\"\n                    v-bind:src=\"\n                      'https://image.tmdb.org/t/p/w200/' + movie.poster_path\n                    \"\n                  />\n                </figure>\n              </router-link>\n              <div class=\"title is-6 is-size-4-mobile movie-title\">\n                <router-link\n                  :to=\"{\n                    name: 'Movie',\n                    params: { movie_id: movie.id },\n                  }\"\n                >\n                  <p\n                    class=\"title is-6 is-size-6-mobile\"\n                    style=\"text-decoration: none;\"\n                  >\n                    {{ movie.title }}\n                  </p>\n                </router-link>\n              </div>\n              <div class=\"subtitle is-6 movie-subtitle\">\n                {{ trimeDate(movie.release_date) }}\n              </div>\n            </div>\n          </div>\n        </div>\n        <nav class=\"pagination\" role=\"navigation\" aria-label=\"pagination\">\n          <a\n            class=\"pagination-previous\"\n            title=\"This is the first page\"\n            :disabled=\"previousDisabled\"\n            @click=\"previousPage\"\n            >Previous</a\n          >\n          <a class=\"pagination-next\" @click=\"nextPage\" :disabled=\"nextDisabled\"\n            >Next page</a\n          >\n        </nav>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport \"bulma/css/bulma.css\";\nimport axios from \"axios\";\nimport db from \"@/firebase/init\";\nexport default {\n  name: \"about\",\n  data() {\n    return {\n      topMovieData: [],\n      filterBy: \"day\",\n      apiKey: process.env.VUE_APP_API_KEY,\n      currentPage: 1,\n      totalPages: null,\n    };\n  },\n  mounted() {\n    this.fetchMovies();\n  },\n  methods: {\n    fetchMovies() {\n      // get most popular movies\n      axios\n        .get(\n          `https://api.themoviedb.org/3/movie/popular?api_key=${this.apiKey}&language=en-US&page=${this.currentPage}`\n          // `https://api.themoviedb.org/3/trending/movie/${this.filterBy}?api_key=${this.apiKey}&page=${this.currentPage}`\n        )\n        .then((response) => {\n          this.topMovieData = response.data;\n          this.totalPages = response.data.total_pages;\n          console.log(this.topMovieData);\n        });\n    },\n\n    addMovieToFavorites(newId, newTitle, poster_path) {\n      // db.collection(\"favoriteMovies\").add({\n      //   title: newTitle,\n      //   movieId: newId,\n      //   poster_path: poster_path,\n      //   dateAdded: new Date(),\n      // });\n      const query = db\n        .collection(\"favoriteMovies\")\n        .where(\"movieId\", \"==\", newId)\n        .get()\n        .then((doc) => {\n          if (doc.docs.length >= 2) {\n            console.log(\"this already exisits\");\n          } else {\n            db.collection(\"favoriteMovies\").add({\n              title: newTitle,\n              movieId: newId,\n              poster_path: poster_path,\n              dateAdded: new Date(),\n            });\n          }\n        });\n\n      console.log(newId);\n    },\n    nextPage() {\n      this.currentPage++;\n      this.fetchMovies();\n    },\n    previousPage() {\n      this.currentPage--;\n      this.fetchMovies();\n    },\n    trimeDate(date) {\n      let length = date.length;\n      let wantedLength = 6;\n      let math = length - wantedLength;\n      return date.slice(0, math);\n    },\n  },\n  computed: {\n    previousDisabled() {\n      if (this.currentPage == 1) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    nextDisabled() {\n      if (this.currentPage == this.totalPages) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  watch: {\n    filterBy: function(val, oldVal) {\n      console.log(val, oldVal);\n      this.filterBy = val;\n      axios\n        .get(\n          `https://api.themoviedb.org/3/trending/movie/${this.filterBy}?api_key=5e9bd2fa585826bdfc4233fb6424f425`\n        )\n        .then((response) => {\n          this.topMovieData = response.data;\n          console.log(this.topMovieData);\n        });\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.main-container\n  background: white\n\n.movie-theatre-wrapper\n  width: 100%\n  height: 200px\n  background-position: top\n  background-repeat: no-repeat\n  background-size: cover\n  background-image: linear-gradient(rgba(1, 40, 68 , .8), rgba(1, 40, 68 , .8)),  url(\"../assets/pulpfiction.jpg\")\n  display: flex\n  justify-content: center\n  align-items: center\n\n.add-movie-btn\n  z-index: 100\n  position: relative\n  left: 100px\n  top: 20px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=d0f2dd72&scoped=true&\"\nimport script from \"./About.vue?vue&type=script&lang=js&\"\nexport * from \"./About.vue?vue&type=script&lang=js&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&id=d0f2dd72&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d0f2dd72\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}