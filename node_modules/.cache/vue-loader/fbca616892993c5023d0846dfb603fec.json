{"remainingRequest":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/src/views/Movie.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/src/views/Movie.vue","mtime":1597202900622},{"path":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/balthazarely/Desktop/Development/Practice/quasar-vue0projects/vue-movie-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAiYnVsbWEvY3NzL2J1bG1hLmNzcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBkYiBmcm9tICJAL2ZpcmViYXNlL2luaXQiOwppbXBvcnQgeyBDYXJvdXNlbCwgU2xpZGUgfSBmcm9tICJ2dWUtY2Fyb3VzZWwiOwppbXBvcnQgKiBhcyBWaWJyYW50IGZyb20gIm5vZGUtdmlicmFudCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk1vdmllIiwKICBjb21wb25lbnRzOiB7CiAgICBDYXJvdXNlbCwKICAgIFNsaWRlLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFwaUtleTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9BUElfS0VZLAogICAgICBtb3ZpZUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMubW92aWVfaWQsCiAgICAgIG1vdmllRGF0YTogW10sCiAgICAgIG1vdmllQ3JlZGl0czogW10sCiAgICAgIHNpbWlsYXJNb3ZpZURhdGE6IFtdLAogICAgICBjb2xvclBhbGxldDogW10sCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsKICAgIHRoaXMubW92aWVJZCA9IHRvLnBhcmFtcy5tb3ZpZV9pZDsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coImhpIik7CiAgICB0aGlzLmZldGNoRGF0YSgpOwoKICAgIC8vIENSRURJVFMKICAgIGF4aW9zCiAgICAgIC5nZXQoCiAgICAgICAgYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHt0aGlzLm1vdmllSWR9L2NyZWRpdHM/YXBpX2tleT0ke3RoaXMuYXBpS2V5fWAKICAgICAgKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLm1vdmllQ3JlZGl0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5tb3ZpZUNyZWRpdHMsICJtb3ZpZSBjcmVkaXRzIik7CiAgICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gYWRkTW92aWVUb0Zhdm9yaXRlcyhuZXdJZCwgbmV3VGl0bGUsIHBvc3Rlcl9wYXRoLCBvdmVydmlldywgcmVsZWFzZV9kYXRlKSB7CiAgICAvLyAgIGRiLmNvbGxlY3Rpb24oImZhdm9yaXRlTW92aWVzIikuYWRkKHsKICAgIC8vICAgICB0aXRsZTogbmV3VGl0bGUsCiAgICAvLyAgICAgbW92aWVJZDogbmV3SWQsCiAgICAvLyAgICAgcG9zdGVyX3BhdGg6IHBvc3Rlcl9wYXRoLAogICAgLy8gICAgIG92ZXJ2aWV3OiBvdmVydmlldywKICAgIC8vICAgICByZWxlYXNlRGF0ZTogcmVsZWFzZV9kYXRlLAogICAgLy8gICAgIGRhdGVBZGRlZDogbmV3IERhdGUoKSwKICAgIC8vICAgfSk7CiAgICAvLyB9LAogICAgYWRkTW92aWVUb0Zhdm9yaXRlcyhuZXdJZCwgbmV3VGl0bGUsIHBvc3Rlcl9wYXRoLCBvdmVydmlldywgcmVsZWFzZV9kYXRlKSB7CiAgICAgIC8vIGRiLmNvbGxlY3Rpb24oImZhdm9yaXRlTW92aWVzIikuYWRkKHsKICAgICAgLy8gICB0aXRsZTogbmV3VGl0bGUsCiAgICAgIC8vICAgbW92aWVJZDogbmV3SWQsCiAgICAgIC8vICAgcG9zdGVyX3BhdGg6IHBvc3Rlcl9wYXRoLAoKICAgICAgLy8gICBkYXRlQWRkZWQ6IG5ldyBEYXRlKCksCiAgICAgIC8vIH0pOwogICAgICBjb25zdCBxdWVyeSA9IGRiCiAgICAgICAgLmNvbGxlY3Rpb24oImZhdm9yaXRlTW92aWVzIikKICAgICAgICAud2hlcmUoIm1vdmllSWQiLCAiPT0iLCBuZXdJZCkKICAgICAgICAuZ2V0KCkKICAgICAgICAudGhlbigoZG9jKSA9PiB7CiAgICAgICAgICBpZiAoZG9jLmRvY3MubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coInRoaXMgYWxyZWFkeSBleGlzaXRzIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYi5jb2xsZWN0aW9uKCJmYXZvcml0ZU1vdmllcyIpLmFkZCh7CiAgICAgICAgICAgICAgdGl0bGU6IG5ld1RpdGxlLAogICAgICAgICAgICAgIG1vdmllSWQ6IG5ld0lkLAogICAgICAgICAgICAgIHBvc3Rlcl9wYXRoOiBwb3N0ZXJfcGF0aCwKICAgICAgICAgICAgICBvdmVydmlldzogb3ZlcnZpZXcsCiAgICAgICAgICAgICAgcmVsZWFzZURhdGU6IHJlbGVhc2VfZGF0ZSwKICAgICAgICAgICAgICBkYXRlQWRkZWQ6IG5ldyBEYXRlKCksCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGZldGNoRGF0YSgpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KAogICAgICAgICAgYGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHt0aGlzLm1vdmllSWR9P2FwaV9rZXk9JHt0aGlzLmFwaUtleX0mbGFuZ3VhZ2U9ZW4tVVNgCiAgICAgICAgKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5tb3ZpZURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5tb3ZpZURhdGEpOwogICAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgVmlicmFudC5mcm9tKAogICAgICAgICAgICBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzE4NS8vJHt0aGlzLm1vdmllRGF0YS5wb3N0ZXJfcGF0aH1gCiAgICAgICAgICApCiAgICAgICAgICAgIC5nZXRQYWxldHRlKCkKICAgICAgICAgICAgLnRoZW4oKHBhbGV0dGUpID0+IHsKICAgICAgICAgICAgICB0aGlzLmNvbG9yUGFsbGV0ID0gcGFsZXR0ZTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29sb3JQYWxsZXQsICJjb2xvciIpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgIGF4aW9zCiAgICAgICAgLmdldCgKICAgICAgICAgIGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7dGhpcy5tb3ZpZUlkfS9zaW1pbGFyP2FwaV9rZXk9JHt0aGlzLmFwaUtleX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYAogICAgICAgICkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGxldCBhcnJheSA9IHJlc3BvbnNlLmRhdGEucmVzdWx0czsKICAgICAgICAgIGxldCBsZW5ndGggPSBhcnJheS5sZW5ndGg7CiAgICAgICAgICAvLyB0aGlzLnNpbWlsYXJNb3ZpZURhdGEgPSBhcnJheS5zcGxpY2UoMTQgKyAxLCBhcnJheS5sZW5ndGggLSAoMTQgKyAxKSk7CiAgICAgICAgICB0aGlzLnNpbWlsYXJNb3ZpZURhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdHM7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNpbWlsYXJNb3ZpZURhdGEsICIgc2ltaWxhciBtb3ZpZXMiKTsKICAgICAgICB9KTsKICAgIH0sCiAgICB0cmltZURhdGUoZGF0ZSkgewogICAgICBsZXQgbGVuZ3RoID0gZGF0ZS5sZW5ndGg7CiAgICAgIGxldCB3YW50ZWRMZW5ndGggPSA2OwogICAgICBsZXQgbWF0aCA9IGxlbmd0aCAtIHdhbnRlZExlbmd0aDsKICAgICAgcmV0dXJuIGRhdGUuc2xpY2UoMCwgbWF0aCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Movie.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Movie.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <section class=\" bg-container\">\n    <!-- <div class=\"hero overlay\"></div> -->\n    <div\n      class=\"hero-body banner-image\"\n      :style=\"{\n        height: '60vh',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        backgroundSize: 'cover',\n        backgroundImage: `linear-gradient(rgba(${colorPallet.DarkMuted.r},${colorPallet.DarkMuted.g},${colorPallet.DarkMuted.b},0.6), rgba(${colorPallet.DarkMuted.r},${colorPallet.DarkMuted.g},${colorPallet.DarkMuted.b},1)), url(https://image.tmdb.org/t/p/w780/${movieData.backdrop_path}) `,\n      }\"\n    >\n      <!-- movieData.backdrop_path -->\n      <div class=\"container\">\n        <div class=\"columns is-mobile \">\n          <div class=\"column is-variable is-3-desktop is-mobile\">\n            <figure class=\"image is-2-by-3\">\n              <img\n                class=\"movie-cover\"\n                v-bind:src=\"\n                  'https://image.tmdb.org/t/p/w200/' + movieData.poster_path\n                \"\n              />\n            </figure>\n          </div>\n          <div\n            class=\"column is-mobile is-multiline is-variable is-two-thirds is-mobile ml-5\"\n          >\n            <h1\n              class=\"title is-3 is-size-4-mobile has-text-white has-text-left has-text-weight-bold\"\n            >\n              {{ movieData.title }}\n            </h1>\n\n            <h1\n              class=\"subtitle is-4 is-size-5-mobile has-text-white has-text-left has-text-weight-light\"\n            >\n              {{ trimeDate(movieData.release_date) }}\n            </h1>\n            <div class=\"container has-text-left mb-5\">\n              <button\n                @click=\"\n                  addMovieToFavorites(\n                    movieData.id,\n                    movieData.title,\n                    movieData.poster_path,\n                    movieData.overview,\n                    movieData.release_date\n                  )\n                \"\n                class=\"button is-success\"\n              >\n                <span class=\"icon is-small\">\n                  <i class=\"fas fa-check\"></i>\n                </span>\n                <span>Save</span>\n              </button>\n            </div>\n\n            <div class=\"genre-wrapper\">\n              <div v-for=\"(genre, i) in movieData.genres\" :key=\"i\">\n                <span class=\"tag is-light genres\">{{ genre.name }}</span>\n              </div>\n            </div>\n            <h2\n              class=\"subtitle is-5 is-size-4-mobile has-text-white has-text-left mt-5\"\n            >\n              {{ movieData.tagline }}\n            </h2>\n\n            <p class=\" is-5 is-size-7-mobile has-text-white has-text-left mt-4\">\n              {{ movieData.overview }}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n    <h1\n      class=\"similar-header\"\n      :style=\"{\n        background: `rgba(${colorPallet.DarkMuted.r},${colorPallet.DarkMuted.g},${colorPallet.DarkMuted.b}, 1) `,\n      }\"\n    >\n      Similar Movies\n    </h1>\n    <carousel\n      :perPageCustom=\"[\n        [600, 4],\n        [1024, 6],\n      ]\"\n      class=\"carousel\"\n      :style=\"{\n        background: `rgba(${colorPallet.DarkMuted.r},${colorPallet.DarkMuted.g},${colorPallet.DarkMuted.b}, 1) `,\n      }\"\n    >\n      <slide\n        class=\"carousel-slide\"\n        v-for=\"movie in similarMovieData\"\n        :key=\"movie.id\"\n      >\n        <img\n          class=\"movie-cover\"\n          v-bind:src=\"'https://image.tmdb.org/t/p/w200/' + movie.poster_path\"\n        />\n        <router-link\n          :to=\"{\n            name: 'Movie',\n            params: { movie_id: movie.id },\n          }\"\n        >\n          <h1\n            class=\"title is-7 is-size-4-mobile has-text-white  has-text-weight-bold\"\n          >\n            {{ movie.title }}\n          </h1>\n        </router-link>\n      </slide>\n    </carousel>\n\n    <div class=\"hero-body banner-image\">THIS IS A PLACE</div>\n  </section>\n</template>\n\n<script>\nimport \"bulma/css/bulma.css\";\nimport axios from \"axios\";\nimport db from \"@/firebase/init\";\nimport { Carousel, Slide } from \"vue-carousel\";\nimport * as Vibrant from \"node-vibrant\";\n\nexport default {\n  name: \"Movie\",\n  components: {\n    Carousel,\n    Slide,\n  },\n  data() {\n    return {\n      apiKey: process.env.VUE_APP_API_KEY,\n      movieId: this.$route.params.movie_id,\n      movieData: [],\n      movieCredits: [],\n      similarMovieData: [],\n      colorPallet: [],\n    };\n  },\n  beforeRouteUpdate(to, from, next) {\n    this.movieId = to.params.movie_id;\n    this.fetchData();\n  },\n  created() {\n    console.log(\"hi\");\n    this.fetchData();\n\n    // CREDITS\n    axios\n      .get(\n        `https://api.themoviedb.org/3/movie/${this.movieId}/credits?api_key=${this.apiKey}`\n      )\n      .then((response) => {\n        this.movieCredits = response.data;\n        console.log(this.movieCredits, \"movie credits\");\n      });\n  },\n  methods: {\n    // addMovieToFavorites(newId, newTitle, poster_path, overview, release_date) {\n    //   db.collection(\"favoriteMovies\").add({\n    //     title: newTitle,\n    //     movieId: newId,\n    //     poster_path: poster_path,\n    //     overview: overview,\n    //     releaseDate: release_date,\n    //     dateAdded: new Date(),\n    //   });\n    // },\n    addMovieToFavorites(newId, newTitle, poster_path, overview, release_date) {\n      // db.collection(\"favoriteMovies\").add({\n      //   title: newTitle,\n      //   movieId: newId,\n      //   poster_path: poster_path,\n\n      //   dateAdded: new Date(),\n      // });\n      const query = db\n        .collection(\"favoriteMovies\")\n        .where(\"movieId\", \"==\", newId)\n        .get()\n        .then((doc) => {\n          if (doc.docs.length >= 1) {\n            console.log(\"this already exisits\");\n          } else {\n            db.collection(\"favoriteMovies\").add({\n              title: newTitle,\n              movieId: newId,\n              poster_path: poster_path,\n              overview: overview,\n              releaseDate: release_date,\n              dateAdded: new Date(),\n            });\n          }\n        });\n    },\n    fetchData() {\n      axios\n        .get(\n          `https://api.themoviedb.org/3/movie/${this.movieId}?api_key=${this.apiKey}&language=en-US`\n        )\n        .then((response) => {\n          this.movieData = response.data;\n          console.log(this.movieData);\n        })\n        .then(() => {\n          Vibrant.from(\n            `https://image.tmdb.org/t/p/w185//${this.movieData.poster_path}`\n          )\n            .getPalette()\n            .then((palette) => {\n              this.colorPallet = palette;\n            })\n            .then(() => {\n              console.log(this.colorPallet, \"color\");\n            });\n        });\n\n      axios\n        .get(\n          `https://api.themoviedb.org/3/movie/${this.movieId}/similar?api_key=${this.apiKey}&language=en-US&page=1`\n        )\n        .then((response) => {\n          let array = response.data.results;\n          let length = array.length;\n          // this.similarMovieData = array.splice(14 + 1, array.length - (14 + 1));\n          this.similarMovieData = response.data.results;\n          console.log(this.similarMovieData, \" similar movies\");\n        });\n    },\n    trimeDate(date) {\n      let length = date.length;\n      let wantedLength = 6;\n      let math = length - wantedLength;\n      return date.slice(0, math);\n    },\n  },\n};\n</script>\n\n<style lang=\"sass\">\n.container\n  position: relative\n\n.movie-cover\n  border-radius: 10px\n  margin: 10px\n  width: 120px\n\n.similar-header\n  color: white\n  font-size: 20px\n  padding-top: 10px\n\n\n.overlay\n  width: 100%\n  height: 100%\n  background: red\n  position: absolute\n  top: 0\n  opacity: 0.5\n\n\n.carousel-slide\n\n.carousel\n  height: 300px\n\n.genre-wrapper\n  display: flex\n  justify-content: flex-start\n  align-items: center\n  flex-direction: row\n\n.genres\n  display: flex\n  margin: 0px 5px 0px 0px\n</style>\n"]}]}